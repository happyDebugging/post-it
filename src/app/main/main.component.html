<div class="section brown lighten-5">
  <div class="container">

    <!-- <a href="#modal1" class="waves-effect waves-light btn modal-trigger">+ Δημιουργία αγγελιας</a> -->

    <h2 class="center">Αναζήτηση με βάση λέξεις-κλειδιά</h2>

    <div class="center">
      <mat-form-field appearance="fill">
        <mat-label>Είδος Αγγελίας</mat-label>
        <mat-select [(ngModel)]="jobType">
          <mat-option *ngFor="let jobSearchType of jobSearchTypes" [value]="jobSearchType" (click)="refreshResults()">
            {{jobSearchType}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- <mat-form-field appearance="fill">
        <mat-label>Επάγγελμα</mat-label>
        <mat-select [(ngModel)]="job">
          <mat-option *ngFor="let jobType of jobNamesList" [value]="jobType" (click)="refreshResults()">
            {{jobType}}
          </mat-option>
        </mat-select>
      </mat-form-field> -->

      <mat-form-field appearance="fill">
        <mat-label>Επάγγελμα</mat-label>
        <input matInput [(ngModel)]="job" [matAutocomplete]="autoJobName" (ngModelChange)="applyJobFilter($event)" />
        <button mat-button *ngIf="job" matSuffix mat-icon-button aria-label="Clear" (click)="job=''; refreshResults()">
          <mat-icon>close</mat-icon>
        </button>
        <mat-autocomplete #autoJobName="matAutocomplete">
          <!-- <mat-optgroup *ngFor="let group of jobNamesList" [label]="group.Category"> -->
            <mat-option *ngFor="let job of filteredJobTypes" [value]="job.JobName" (click)="refreshResults()">
              {{ job.JobName }}
            </mat-option>
          <!-- </mat-optgroup> -->
        </mat-autocomplete>
      </mat-form-field>

      <!-- <mat-form-field appearance="fill">
        <mat-label>Περιοχή</mat-label>
        <mat-select [(ngModel)]="place">
          <mat-option *ngFor="let workingPlace of workingPlaces" [value]="workingPlace" (click)="refreshResults()">
            {{workingPlace}}
          </mat-option>
        </mat-select>
      </mat-form-field> -->

      <mat-form-field appearance="fill">
        <mat-label>Περιοχή</mat-label>
        <input matInput [(ngModel)]="place" [matAutocomplete]="autoPlace" (ngModelChange)="applyPlacesFilter($event)" />
        <button mat-button *ngIf="place" matSuffix mat-icon-button aria-label="Clear"
          (click)="place=''; refreshResults()">
          <mat-icon>close</mat-icon>
        </button>
        <mat-autocomplete #autoPlace="matAutocomplete">
          <mat-option *ngFor="let workingPlace of filteredWorkingPlaces" [value]="workingPlace.Place"
            (click)="refreshResults()">
            {{ workingPlace.Place }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <!-- <button class="waves-effect waves-light btn" (click)="onClearFilters()"><i
          class="material-icons">clear</i></button> -->
    </div>

  </div>
</div>


<div class="section lime lighten-5 main-section">
  <div class="container">

    <div *ngIf="posts.length === 0 && !isLoadingResults">
      <br><br>
      <h2 class="center">Δεν βρέθηκε αποτέλεσμα που να αντιστοιχεί στους όρους αναζήτησης.</h2>
      <br>
    </div>


    <div class="row">
      <div *ngFor="let post of posts; let i = index;">
        <div class="col s12 m6 l4">

          <div class="row">
            <div class="col">
              <div class="card"
                [ngStyle]="{'background-color':post.Color === 'lime lighten-4' ? '#f0f4c3' : '#dcedc8' }">
                <div class="card-content black-text">
                  <span class="card-title">
                    <h3>{{ post.JobName }}</h3>
                  </span>
                  <span class="black-text">
                    {{ post.Notes }}
                  </span>
                </div>
                <div class="card-action">
                  <mat-tab-group>
                    <mat-tab label="Περιοχή">
                      <div class="center">
                        {{ post.Place }}
                      </div>
                    </mat-tab>
                    <mat-tab label="Email">
                      <div class="center">
                        {{ post.Email }}
                      </div>
                    </mat-tab>
                    <mat-tab label="Τηλ.">
                      <div class="center">
                        {{ post.Phone }}, {{ post.UserName }}
                      </div>
                    </mat-tab>
                  </mat-tab-group>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>


    <!-- proswrino -->
    <div class="row">
      <br>
      <br>

    
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Κατηγοριά Επαγγέλματος</mat-label>
        <input matInput [(ngModel)]="jobCategory">
      </mat-form-field>

   
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Επάγγελμα</mat-label>
        <input matInput [(ngModel)]="jobbbbb">
      </mat-form-field>
      <button class="waves-effect waves-light btn-large" mat-dialog-close (click)="OnPostJobsToDb()">Αποθήκευση
        Επαγγέλματος</button>
      <br>

   
      <!-- <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Πόλη/Περιοχή</mat-label>
        <input matInput [(ngModel)]="placeeee">
      </mat-form-field>
      <button class="waves-effect waves-light btn-large" mat-dialog-close (click)="OnPostPlacesToDb()">Αποθήκευση
        Περιοχής</button> -->
    </div>


  </div>
</div>